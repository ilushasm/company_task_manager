{% extends "base.html" %}
{% load custom_filters %}
{% load static %}

{% block title %}
  <title>Index</title>
{% endblock %}

{% block content %}


  <div class="container-fluid py-4">
    <div class="row">
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-8">
                <div class="numbers">
                  <p class="text-sm mb-0 text-capitalize font-weight-bold">Managed tasks</p>
                  <h5 class="font-weight-bolder mb-0">
                    {{ tasks }}
                  </h5>
                </div>
              </div>
              <div class="col-4 text-end">
                <div class="icon-shape my-bg-gradient-primary shadow text-center border-radius-md">
                  <img src="/static/svg/task.svg" alt="projects" width="40px" height="40px" class="pt-2 text-lg" aria-hidden="true">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-8">
                <div class="numbers">
                  <p class="text-sm mb-0 text-capitalize font-weight-bold">Managed Workers</p>
                  <h5 class="font-weight-bolder mb-0">
                    {{ workers }}
                  </h5>
                </div>
              </div>
              <div class="col-4 text-end">
                <div class="icon-shape my-bg-gradient-primary shadow text-center border-radius-md">
                  <img src="/static/svg/worker.svg" alt="projects" width="40px" height="40px" class="pt-2 text-lg" aria-hidden="true">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-8">
                <div class="numbers">
                  <p class="text-sm mb-0 text-capitalize font-weight-bold">Managed Teams</p>
                  <h5 class="font-weight-bolder mb-0">
                    {{ teams }}
                  </h5>
                </div>
              </div>
              <div class="col-4 text-end">
                <div class="icon-shape my-bg-gradient-primary shadow text-center border-radius-md">
                  <img src="/static/svg/team2.svg" alt="projects" width="40px" height="40px" class="pt-2 text-lg" aria-hidden="true">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-8">
                <div class="numbers">
                  <p class="text-sm mb-0 text-capitalize font-weight-bold">Managed Projects</p>
                  <h5 class="font-weight-bolder mb-0">
                    {{ projects }}
                  </h5>
                </div>
              </div>
              <div class="col-4 text-end">
                <div class="icon-shape my-bg-gradient-primary shadow text-center border-radius-md">
                  <img src="/static/svg/project.svg" alt="projects" width="40px" height="40px" class="pt-2">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-lg-7 mb-lg-0 mb-4">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-lg-6">
                <div class="d-flex flex-column h-100">
                  {% if user.is_authenticated %}
                    <p class="mb-1 pt-2 text-bold">Your account:</p>
                    <h5 class="font-weight-bolder">{{ user }}</h5>
                    <p class="mb-5">Jump straight to your tasks and get into action</p>
                    <a href="{% url "task_manager:worker-detail" pk=user.id %}" class="btn my-bg-primary mb-0 mt-auto">Open my profile</a>
                  {% else %}
                    <p class="mb-1 pt-2 text-bold">Not logged in</p>
                    <p class="mb-5">Looks like you are not logged in. If you do not have an account you can get it from your team leader</p>
                  {% endif %}
                </div>
              </div>
              <div class="col-lg-5 ms-auto text-center mt-5 mt-lg-0">
                <div class="my-btn-bg-gradient-primary border-radius-lg h-100">
                  <div class="position-relative d-flex align-items-center justify-content-center h-100">
                    {% if user.is_authenticated %}
                      <img class="w-100 position-relative z-index-2 border-radius-lg" src="/static/img/{{ user.avatar }}" alt="avatar">
                    {% else %}
                      <img class="w-100 position-relative z-index-2 border-radius-lg" src="/static/svg/logo.svg" alt="avatar">
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-5">
        <div class="card h-100 p-3">
          <div class="overflow-hidden position-relative border-radius-lg bg-cover h-100">
            <span class="mask my-bg-gradient-primary"></span>
            <div class="card-body position-relative z-index-1 d-flex flex-column h-100 p-3">
              <h5 class="text-white font-weight-bolder mb-4 pt-2">Track your progress</h5>
              <p class="text-white">
                Check out Teams and Projects pages on the sidebar to the left to check your progress
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
